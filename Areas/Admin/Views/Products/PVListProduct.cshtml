@model _24dh112968_MyStore_lap1.Models.ViewModle.ProductSearchVM
@using PagedList.Mvc
<div class=" container mt-4">
    <h2 class="bg-success p-3 rounded">DANH SÁCH SẢN PHẨM</h2>

    <table class="table table-bordered table-hover">
        <tr class="bg-success col-md-12">
            <th>
                Hình ảnh
            </th>

            <th>
                Tên sản phảm
            </th>

            <th>
                Đơn giá
            </th>

            <th>
                Danh mục

            </th>


            <th class="bg-success ">ID </th>
            <th class="bg-success ">Các thao tác </th>
        </tr>

        @foreach (var item in Model.Products)
        {
            <tr>
                <td class="text-lg-center">
                    @if (!string.IsNullOrEmpty(item.ProductImage))
                    {
                        <img src="@item.ProductImage" alt="@item.ProductName" style="width:100px; height:auto; border-radius:5px; " />
                    }
                    else
                    {
                        <span class="text-muted">Không có ảnh</span>
                    }
                </td>


                <td class="fw-semibold">
                    @Html.DisplayFor(modelItem => item.ProductName)
                </td>
                <!--<td>-->
                @*@Html.DisplayFor(modelItem => item.ProductPrice)*@

                <!--</td>-->
                <td class="text-danger fw-semibold">
                    @(string.Format("{0:N0} đ", item.ProductPrice))
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.ProductDescription)
                </td>
                <td class="text-lg-center">
                    @Html.DisplayFor(modelItem => item.Category.CategoryName)
                </td>
                <td class="text-lg-center">
                    @Html.ActionLink("Sửa", "Edit", new { id = item.ProductID }, new { @class = "btn btn-primary btn-sm me-1" }) |
                    @Html.ActionLink("Chi tiết", "Details", new { id = item.ProductID }, new { @class = "btn btn-info btn-sm me-1" }) |
                    @Html.ActionLink("Xóa", "Delete", new { id = item.ProductID }, new { @class = "btn btn-danger btn-sm" })
                </td>
            </tr>
        }

    </table>
    <p>
        @Html.ActionLink("Thêm mới", "Create", null, new { @class = "btn btn-success mt-2" })
    </p>


    <!--  PHÂN TRANG -->
    <div class="d-flex justify-content-center mt-4">
        @Html.PagedListPager(
            Model.Products,
            page => Url.Action("Index", new
            {
                page,
                searchTerm = Model.SearchTerm,
                minPrice = Model.MinPrice,
                maxPrice = Model.MaxPrice,
                sortOrder = Model.SortOrder
            }),
            new PagedListRenderOptions
            {
                DisplayLinkToFirstPage = PagedListDisplayMode.Always,
                DisplayLinkToLastPage = PagedListDisplayMode.Always,
                DisplayLinkToPreviousPage = PagedListDisplayMode.Always,
                DisplayLinkToNextPage = PagedListDisplayMode.Always,
                Display = PagedListDisplayMode.IfNeeded,
                UlElementClasses = new[] { "pagination", "justify-content-center" },
                LiElementClasses = new[] { "page-item" },
                // Nếu phiên bản bạn đang dùng có hỗ trợ PageClasses
                // bạn có thể bật dòng dưới:
                // PageClasses = new[] { "page-link" }
            }
        )
    </div>

    <!-- CSS cho Bootstrap pagination  -->
    <style>
        .pagination {
            margin-top: 20px;
        }

            .pagination .page-item a,
            .pagination .page-item span {
                color: #198754; /* màu xanh Bootstrap */
                border-radius: 8px;
                margin: 0 3px;
                border: 1px solid #dee2e6;
                padding: 6px 12px;
                text-decoration: none;
            }

            .pagination .page-item.active span,
            .pagination .page-item.active a {
                background-color: #198754;
                color: white;
                border-color: #198754;
            }

            .pagination .page-item a:hover {
                background-color: #157347;
                color: white;
            }
    </style>


</div>
